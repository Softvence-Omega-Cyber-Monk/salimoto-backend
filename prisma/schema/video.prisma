model Video {
  id              String    @id @default(uuid())
  title           String
  videoUrl        String    @db.Text
  thumbnailImage  String?   @db.Text // optional in case it's generated later
  views           Int       @default(0)
  presenterName   String
  likes           Int       @default(0) // renamed from 'like' to avoid keyword conflict
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  comments        Comment[]
}

model Comment {
  id          String    @id @default(uuid())
  content     String    @db.Text
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  videoId     String
  video       Video     @relation(fields: [videoId], references: [id])



  parentId    String?   // for replies; null if top-level comment
  parent      Comment?  @relation("CommentReplies", fields: [parentId], references: [id])
  replies     Comment[] @relation("CommentReplies")
}